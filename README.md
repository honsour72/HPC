# Тестовое задание от GROUP-IB

## Задача
_Написать gRPC-сервис (не имеет значения, на чем писать),
который будет параллельно перебирать пароли к архиву по заданному словарю используя p7zip._

_Внутри очередь с приоритетом, запросы необходимо выполнять асинхронно.
Реализовать пример клиента (с блокировкой и без) - на Python 2.7._


## Решение
#### Представлено следующим планом:
1. Необходимо запустить просейший пример кода по документации к grpc (https://grpc.io/docs/languages/python/quickstart/)
2. Настроить передачу паролей на сервер и написать простой кусок кода по анализу этих паролей и разархивации данных на сервере
3. Адаптировать п.2 под неблокирующий (асинхронный) метод работы
4. Преобразовать под python 2.7


#### Структура решения:
Структурно решение состоит из 2х веток по версиям языка программирования (py_3, py2_7 - соответственно для 3ей и 2ой версии)
При этом подразумевается, что архив необходимый к распаковке уже лежит на сервере и клиент своим потоком запросов за раз отправляет пароли, которыми сервер, в свою очередь, пытается хакнуть архив. В случае успеха - возвращает содержимое тестового файла (win.txt), который я поместил в архив, иначе - None


### Ход решения
1). После подготовки локальной директории проекта, был запущен пример: https://grpc.io/docs/languages/python/quickstart/

2). В репозитории проекта (https://github.com/grpc/grpc/tree/v1.42.0/examples/python) я обнаружил более подходящий для меня пример - data_transmission. Минус последнего был в том, что в отличие от соседних примеров в нём не был реализован неблокирующий (асинхронный) клиент и сервер

3). Затем я написал код по распаковке архива, пароль указал как входящий с запросом клиента аргумент, а в интерфейсе клиента добавил проброс с запросом самих паролей на сервер, при чем решил реализовать это по схеме Request-streaming RPC  (https://grpc.io/docs/languages/python/basics/#:~:text=stub.ListFeatures(rectangle)%3A-,Request%2Dstreaming%20RPC,-Calling%20the%20request)

4). Далее был реализован асинхронный метод работы сервера и клиента при помощи модуля aio grpc

5). Заключительным этапом стало преобразование кода под python 2.7 и оформление readme.md


#### **Замечания**
* Согласно документации наибыстрейшим модулем по распаковке архивов zip является py7zr (https://pypi.org/project/py7zr/), при этом его самая первая версия вышла аж 22 апр. 2019 года (https://pypi.org/project/py7zr/0.0.3/#:~:text=It%20uses%20a%20standard%20lzma%20module%20that%20is%20supported%20in%20Python3.3%20and%20later). А как, известно python 3 существует с 3го декабря 2008 (https://www.google.com/search?q=python+3.0+release+date&oq=python+3.0+&aqs=chrome.4.69i57j0i512l9.8918j0j15&sourceid=chrome&ie=UTF-8#:~:text=%D0%BE%D0%BF%D0%B8%D1%81%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%B8%D0%B7%20%D0%98%D0%BD%D1%82%D0%B5%D1%80%D0%BD%D0%B5%D1%82%D0%B0-,December%203rd%2C%202008,-Python%203.0%20final) Таким образом стало очевидно, что на python 2.7 отсутсвует реализация данного модуля, что и побудило меня использовать стандартный zipfile (https://pypi.org/project/zipfile2/)
* Протокол gRPC не позволяет организовывать передачу файлов (https://developers.google.com/protocol-buffers/docs/proto?csw=1#scalar) через буффер (stub) **НО** при этом позволяет передавать байты (bytes). Основываясб на этом я предполагаю возможным закодировать файл архива в формат bytes и передать в таком виде на сервер отдельным методом.

